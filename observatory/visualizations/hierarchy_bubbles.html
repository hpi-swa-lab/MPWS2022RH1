<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <title>Hierarchy Bubbles Visualization</title>

        <link rel="stylesheet" type="text/css" href="/assets/css/dist/main.css" />
        <script src="../assets/js/dist/observatory.umd.js"></script>

        <link
                rel="icon"
                type="image/x-icon"
                href="../assets/images/life_sea_marine_air_bubbles_icon_209418.ico"
        />
    </head>

    <body>

        <script type="module">
            let visualization = undefined

            const form = Observatory.appendFileInput(async (files) => {

                form.submitButton.disabled = true

                if (visualization) {
                    visualization.continueSimulation(() => {
                        form.submitButton.disabled = false
                    })
                } else {

                    // if (input.files.length === 0) {
                    //     errorMessages.push("I'm missing the input file.")
                    //     return
                    // }

                    visualization = await Observatory.generateHierarchyBubbles(files[0])
                    visualization.continueSimulation(() => {
                        form.submitButton.disabled = false
                    })

                    form.submitButton.innerHTML = 'Continue Simulation'
                }
            })
        </script>
    </body>
</html>
